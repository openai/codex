# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2021"
rust-version = "1.75"
name = "keyring"
version = "3.6.3"
authors = [
    "Walther Chen <walther.chen@gmail.com>",
    "Daniel Brotsky <dev@brotsky.com>",
]
build = false
exclude = [".github/"]
autolib = false
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = "Cross-platform library for managing passwords/credentials"
homepage = "https://github.com/hwchen/keyring-rs"
readme = "README.md"
keywords = [
    "password",
    "credential",
    "keychain",
    "keyring",
    "cross-platform",
]
license = "MIT OR Apache-2.0"
repository = "https://github.com/hwchen/keyring-rs.git"

[package.metadata.docs.rs]
default-target = "x86_64-unknown-linux-gnu"
features = [
    "apple-native",
    "windows-native",
    "linux-native-sync-persistent",
    "crypto-rust",
]
targets = [
    "x86_64-unknown-linux-gnu",
    "aarch64-apple-darwin",
    "aarch64-apple-ios",
    "x86_64-pc-windows-msvc",
]

[features]
apple-native = ["dep:security-framework"]
async-io = ["zbus?/async-io"]
async-secret-service = [
    "dep:secret-service",
    "dep:zbus",
]
crypto-openssl = [
    "dbus-secret-service?/crypto-openssl",
    "secret-service?/crypto-openssl",
]
crypto-rust = [
    "dbus-secret-service?/crypto-rust",
    "secret-service?/crypto-rust",
]
linux-native = ["dep:linux-keyutils"]
linux-native-async-persistent = [
    "linux-native",
    "async-secret-service",
]
linux-native-sync-persistent = [
    "linux-native",
    "sync-secret-service",
]
sync-secret-service = ["dep:dbus-secret-service"]
tokio = ["zbus?/tokio"]
vendored = [
    "dbus-secret-service?/vendored",
    "openssl?/vendored",
]
windows-native = [
    "dep:windows-sys",
    "dep:byteorder",
]

[lib]
name = "keyring"
path = "src/lib.rs"

[[example]]
name = "iostest"
crate-type = ["staticlib"]
path = "examples/ios.rs"

[[example]]
name = "keyring-cli"
path = "examples/cli.rs"

[[test]]
name = "basic"
path = "tests/basic.rs"

[[test]]
name = "threading"
path = "tests/threading.rs"

[dependencies.log]
version = "0.4.22"

[dependencies.openssl]
version = "0.10.66"
optional = true

[dev-dependencies.base64]
version = "0.22"

[dev-dependencies.clap]
version = "4"
features = [
    "derive",
    "wrap_help",
]

[dev-dependencies.doc-comment]
version = "0.3"

[dev-dependencies.env_logger]
version = "0.11.5"

[dev-dependencies.fastrand]
version = "2"

[dev-dependencies.rpassword]
version = "7"

[dev-dependencies.rprompt]
version = "2"

[dev-dependencies.whoami]
version = "1.5"

[target.'cfg(target_os = "freebsd")'.dependencies.dbus-secret-service]
version = "4.0.1"
optional = true

[target.'cfg(target_os = "freebsd")'.dependencies.secret-service]
version = "4"
optional = true

[target.'cfg(target_os = "freebsd")'.dependencies.zbus]
version = "4"
optional = true

[target.'cfg(target_os = "ios")'.dependencies.security-framework]
version = "2"
optional = true

[target.'cfg(target_os = "linux")'.dependencies.dbus-secret-service]
version = "4.0.0-rc.2"
optional = true

[target.'cfg(target_os = "linux")'.dependencies.linux-keyutils]
version = "0.2"
features = ["std"]
optional = true

[target.'cfg(target_os = "linux")'.dependencies.secret-service]
version = "4"
optional = true

[target.'cfg(target_os = "linux")'.dependencies.zbus]
version = "4"
optional = true

[target.'cfg(target_os = "macos")'.dependencies.security-framework]
version = "3"
optional = true

[target.'cfg(target_os = "openbsd")'.dependencies.dbus-secret-service]
version = "4.0.0-rc.1"
optional = true

[target.'cfg(target_os = "openbsd")'.dependencies.secret-service]
version = "4"
optional = true

[target.'cfg(target_os = "openbsd")'.dependencies.zbus]
version = "4"
optional = true

[target.'cfg(target_os = "windows")'.dependencies.byteorder]
version = "1.2"
optional = true

[target.'cfg(target_os = "windows")'.dependencies.windows-sys]
version = "0.60"
features = [
    "Win32_Foundation",
    "Win32_Security_Credentials",
]
optional = true

[target.'cfg(target_os = "windows")'.dependencies.zeroize]
version = "1.8.1"
