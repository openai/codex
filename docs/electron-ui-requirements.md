# Codex Electron UI - 요구사항 명세서

> TUI를 대체하는 향상된 데스크톱 UI 개발 요구사항

## 목차

- [문서 개요](#문서-개요)
- [기능 요구사항](#기능-요구사항)
  - [필수 기능 (MVP)](#필수-기능-mvp)
  - [우선순위 기능](#우선순위-기능)
  - [향후 기능](#향후-기능)
- [기술 요구사항](#기술-요구사항)
  - [성능 요구사항](#성능-요구사항)
  - [보안 요구사항](#보안-요구사항)
  - [호환성 요구사항](#호환성-요구사항)
  - [품질 요구사항](#품질-요구사항)
- [사용자 인터페이스 요구사항](#사용자-인터페이스-요구사항)
- [비기능 요구사항](#비기능-요구사항)
- [제약사항](#제약사항)
- [인수 기준](#인수-기준)

---

## 문서 개요

### 목적

이 문서는 Codex CLI에 Electron 기반 데스크톱 UI를 추가하기 위한 기능적, 기술적 요구사항을 정의합니다.

### 범위

- **포함**: Electron UI 개발, 백엔드 통합, 보안, 패키징
- **제외**: Rust 백엔드 재작성, TUI 제거, 웹 버전 개발

### 대상 사용자

- 개발자 (주 사용자)
- DevOps 엔지니어
- AI 기반 코딩 도구를 선호하는 프로그래머

### 성공 기준

1. TUI의 모든 핵심 기능을 GUI로 제공
2. TUI보다 향상된 사용자 경험 제공
3. 기존 샌드박스 보안 수준 유지
4. 초기 로딩 시간 < 3초
5. 메시지 전송 후 첫 응답까지 < 1초

---

## 기능 요구사항

### 필수 기능 (MVP)

#### FR-1: 대화 관리

**FR-1.1 새 대화 생성**
- 사용자는 "New Conversation" 버튼으로 새 대화를 시작할 수 있어야 함
- 기본 모델 자동 선택
- 대화 ID 자동 생성
- 우선순위: P0 (필수)

**FR-1.2 대화 목록 표시**
- 사이드바에 모든 대화 목록 표시
- 대화 제목 (첫 메시지 기반 자동 생성)
- 생성/수정 날짜 표시
- 최신순 정렬
- 우선순위: P0

**FR-1.3 대화 전환**
- 목록에서 대화 클릭 시 해당 대화로 전환
- 기존 메시지 이력 로드
- 전환 시 애니메이션 효과
- 우선순위: P0

**FR-1.4 대화 삭제/아카이브**
- 대화를 아카이브할 수 있음
- 아카이브된 대화는 별도 탭에 표시
- 영구 삭제 기능
- 우선순위: P1

#### FR-2: 메시지 송수신

**FR-2.1 메시지 입력**
- 하단 입력 영역에서 메시지 작성
- 멀티라인 지원 (Shift+Enter로 줄바꿈)
- Enter로 전송
- 최대 길이 제한 표시 (optional)
- 우선순위: P0

**FR-2.2 메시지 전송**
- 입력한 메시지를 백엔드로 전송
- 전송 중 로딩 인디케이터 표시
- 전송 실패 시 재시도 옵션
- 우선순위: P0

**FR-2.3 메시지 수신 및 표시**
- 백엔드에서 받은 메시지를 실시간으로 표시
- 스트리밍 텍스트 애니메이션 (타이핑 효과)
- 사용자/AI 메시지 시각적 구분
- 타임스탬프 표시
- 우선순위: P0

**FR-2.4 마크다운 렌더링**
- AI 응답을 마크다운으로 렌더링
- 코드 블록 구문 하이라이팅
- 표, 목록, 링크 지원
- 수식 렌더링 (KaTeX/MathJax)
- 우선순위: P0

**FR-2.5 코드 블록 기능**
- 코드 복사 버튼
- 언어 표시
- 줄 번호 (optional)
- 우선순위: P1

**FR-2.6 메시지 편집/삭제**
- 사용자 메시지 편집 가능
- 메시지 삭제 가능
- 편집 이력 표시 (optional)
- 우선순위: P2

#### FR-3: 도구 승인 시스템

**FR-3.1 승인 요청 표시**
- 도구 사용 전 승인 다이얼로그 표시
- 도구 이름, 설명, 파라미터 명확히 표시
- 예상 영향 범위 시각화
- 우선순위: P0

**FR-3.2 파일 변경 미리보기**
- 파일 패치 내용을 Diff 뷰로 표시
- 변경 전/후 비교
- 구문 하이라이팅 유지
- 우선순위: P0

**FR-3.3 승인/거부 처리**
- "Approve" 버튼으로 승인
- "Reject" 버튼으로 거부
- "Approve All" (세션 동안 모든 도구 자동 승인)
- 키보드 단축키 (A/R)
- 우선순위: P0

**FR-3.4 승인 모드 전환**
- 설정에서 승인 모드 변경 가능:
  - Suggest (모든 도구 승인 필요)
  - Auto Edit (파일 수정은 자동, 쉘 명령은 승인)
  - Full Auto (모두 자동)
- 현재 모드를 StatusBar에 표시
- 우선순위: P1

#### FR-4: 파일 시스템 통합

**FR-4.1 작업 디렉토리 선택**
- "Open Workspace" 버튼으로 디렉토리 선택
- 선택한 디렉토리를 백엔드에 전달
- 최근 작업 공간 목록 저장
- 우선순위: P0

**FR-4.2 파일 브라우저**
- 사이드바에 파일 트리 표시
- 폴더 펼치기/접기
- 파일 아이콘 (확장자별)
- .gitignore 준수 (숨김 파일 제외)
- 우선순위: P1

**FR-4.3 파일 검색**
- 파일명 검색 기능
- 퍼지 검색 지원 (예: "test.ts" → "Test.tsx")
- 검색 결과 하이라이팅
- 우선순위: P1

**FR-4.4 파일 미리보기**
- 파일 클릭 시 내용 미리보기
- 구문 하이라이팅
- 읽기 전용 (편집은 도구 승인 통해서만)
- 우선순위: P2

#### FR-5: 설정 관리

**FR-5.1 설정 패널**
- 메뉴 또는 단축키로 설정 패널 열기
- 탭 기반 설정 그룹 (General, Model, Sandbox, Appearance)
- 변경사항 즉시 적용 또는 저장 버튼
- 우선순위: P0

**FR-5.2 모델 설정**
- 사용 가능한 모델 목록 표시
- 기본 모델 선택
- 프로바이더 설정 (OpenAI, Azure, Gemini 등)
- API 키 입력 (보안 저장)
- 우선순위: P0

**FR-5.3 샌드박스 설정**
- 샌드박스 모드 선택 (Read-only, Workspace-write, Full-access)
- 네트워크 비활성화 옵션
- 승인 모드 설정
- 우선순위: P1

**FR-5.4 외관 설정**
- 다크/라이트 모드 전환
- 테마 선택 (VS Code 테마 호환)
- 폰트 크기/패밀리 변경
- 우선순위: P2

**FR-5.5 키보드 단축키 커스터마이징**
- 모든 액션에 단축키 할당 가능
- 단축키 충돌 감지
- 기본값 복원 옵션
- 우선순위: P2

#### FR-6: 상태 표시

**FR-6.1 연결 상태**
- 백엔드 연결 상태 표시 (연결됨/끊김)
- 재연결 자동 시도
- 연결 오류 메시지
- 우선순위: P0

**FR-6.2 샌드박스 상태**
- 현재 샌드박스 모드 표시
- 활성 제약 사항 아이콘
- 툴팁으로 자세한 정보
- 우선순위: P1

**FR-6.3 작업 진행 상황**
- 도구 실행 중 프로그레스 바
- 현재 실행 중인 작업 이름
- 취소 버튼 (interrupt)
- 우선순위: P1

**FR-6.4 사용량 정보**
- 토큰 사용량 표시
- Rate limit 상태
- 사용자 계정 정보 (Plus/Pro/Team)
- 우선순위: P2

---

### 우선순위 기능

#### FR-7: 고급 코드 편집

**FR-7.1 통합 코드 편집기**
- Monaco Editor 통합
- 파일 직접 편집 가능
- 자동 완성, 린팅
- 우선순위: P2

**FR-7.2 Diff 편집기**
- 변경 사항을 대화형으로 수정
- 부분 승인/거부
- 우선순위: P2

#### FR-8: 멀티모달 지원

**FR-8.1 이미지 첨부**
- 드래그 앤 드롭으로 이미지 첨부
- 클립보드에서 붙여넣기
- 이미지 미리보기
- 우선순위: P1

**FR-8.2 스크린샷 캡처**
- 내장 스크린샷 도구
- 영역 선택 캡처
- 전체 화면 캡처
- 우선순위: P2

**FR-8.3 파일 첨부**
- 다양한 파일 형식 첨부 (PDF, 문서 등)
- 파일 크기 제한 표시
- 우선순위: P2

#### FR-9: 협업 기능

**FR-9.1 대화 공유**
- 대화를 JSON/마크다운으로 내보내기
- 공유 링크 생성 (optional, 백엔드 지원 필요)
- 우선순위: P3

**FR-9.2 코드 스니펫 공유**
- 메시지에서 코드 블록 추출
- GitHub Gist 생성
- 우선순위: P3

#### FR-10: 생산성 도구

**FR-10.1 즐겨찾기/북마크**
- 중요한 대화를 즐겨찾기에 추가
- 별 아이콘으로 표시
- 우선순위: P2

**FR-10.2 검색 기능**
- 전체 대화 내용 검색
- 정규식 지원
- 검색 결과 하이라이팅
- 우선순위: P2

**FR-10.3 템플릿/프롬프트 라이브러리**
- 자주 사용하는 프롬프트 저장
- 변수 치환 지원 (예: `{{project_name}}`)
- 커뮤니티 템플릿 공유 (optional)
- 우선순위: P2

**FR-10.4 명령 팔레트**
- Cmd/Ctrl+K로 명령 팔레트 열기
- 모든 액션 검색 가능
- 최근 명령 이력
- 우선순위: P1

---

### 향후 기능

#### FR-11: 고급 기능

**FR-11.1 멀티 윈도우**
- 대화를 별도 윈도우로 분리
- 여러 대화 동시 작업
- 우선순위: P3

**FR-11.2 플러그인 시스템**
- MCP 서버 UI 통합
- 커스텀 도구 UI
- 우선순위: P3

**FR-11.3 AI 기반 기능**
- 자동 대화 요약
- 관련 대화 추천
- 우선순위: P3

**FR-11.4 통합 터미널**
- 내장 터미널 에뮬레이터
- 쉘 명령 결과 직접 표시
- 우선순위: P3

---

## 기술 요구사항

### 성능 요구사항

#### NFR-1: 응답 시간

**NFR-1.1 초기 로딩**
- 애플리케이션 시작 후 첫 화면 표시: < 3초
- 백엔드 프로세스 시작: < 2초
- 측정 방법: Lighthouse Performance 점수 > 90

**NFR-1.2 UI 반응성**
- 버튼 클릭 후 피드백: < 100ms
- 메시지 전송 후 UI 업데이트: < 50ms
- 대화 전환: < 500ms

**NFR-1.3 메시지 처리**
- 메시지 전송 후 첫 응답 토큰: < 1초 (네트워크 제외)
- 스트리밍 업데이트 빈도: 100ms마다
- 1000개 메시지 렌더링: < 2초 (가상화 사용)

**NFR-1.4 파일 작업**
- 10,000개 파일 디렉토리 로드: < 1초
- 파일 검색 (10,000개 중): < 200ms
- Diff 뷰 렌더링 (1000라인): < 500ms

#### NFR-2: 리소스 사용

**NFR-2.1 메모리**
- 유휴 상태 메모리: < 200MB (Electron 프로세스)
- 활성 대화 (100 메시지): < 400MB
- 백엔드 프로세스: < 100MB
- 총 메모리: < 600MB

**NFR-2.2 CPU**
- 유휴 상태 CPU: < 1%
- 메시지 수신 중 CPU: < 20%
- 백엔드 프로세스: 별도 모니터링

**NFR-2.3 디스크**
- 설치 크기: < 150MB (압축)
- 대화 데이터 (100개): < 50MB
- 로그 파일: < 100MB (순환 삭제)

**NFR-2.4 네트워크**
- WebSocket/stdio 통신 오버헤드: < 5%
- 메시지 압축 (optional)

#### NFR-3: 확장성

**NFR-3.1 데이터 규모**
- 최대 동시 대화: 1000개
- 대화당 최대 메시지: 10,000개
- 메시지당 최대 크기: 1MB

**NFR-3.2 동시성**
- 동시 도구 실행: 5개
- 백그라운드 작업 큐: 무제한

---

### 보안 요구사항

#### NFR-4: 샌드박싱

**NFR-4.1 프로세스 격리**
- Renderer 프로세스: Node.js 비활성화
- Context Isolation 활성화
- Chromium 샌드박스 활성화

**NFR-4.2 백엔드 샌드박싱**
- 기존 플랫폼 샌드박싱 100% 유지:
  - macOS: Apple Seatbelt
  - Linux: Landlock + seccomp
  - Windows: Restricted Tokens
- 샌드박스 우회 불가능

**NFR-4.3 파일 시스템 접근**
- Main 프로세스: 설정 파일만 접근
- Renderer: 파일 시스템 접근 불가
- Backend: 샌드박스 규칙 준수

**NFR-4.4 네트워크 접근**
- Renderer: CSP로 제한 (API 서버만 허용)
- Backend: 샌드박스 모드에 따라 제어

#### NFR-5: 데이터 보안

**NFR-5.1 자격증명 관리**
- API 키: OS Keychain 사용 (Electron safeStorage)
- 토큰: 메모리에만 저장, 로그 제외
- 만료된 자격증명 자동 삭제

**NFR-5.2 데이터 암호화**
- 대화 데이터: 저장 시 암호화 (optional)
- 네트워크 통신: HTTPS 강제
- 로컬 IPC: 암호화 불필요 (로컬 소켓)

**NFR-5.3 로깅**
- 민감 정보 로그 제외:
  - API 키
  - 사용자 코드 내용 (optional)
  - 파일 경로 일부만 로그
- 로그 파일 권한: 소유자만 읽기 (600)

**NFR-5.4 업데이트 보안**
- 코드 서명 (macOS, Windows)
- HTTPS 업데이트 서버
- 업데이트 파일 체크섬 검증

#### NFR-6: 권한 관리

**NFR-6.1 최소 권한 원칙**
- 각 프로세스는 필요한 최소 권한만 보유
- Renderer: 권한 없음
- Main: 파일 시스템 제한
- Backend: 샌드박스 제어

**NFR-6.2 사용자 동의**
- 위험한 작업은 명시적 승인 필요
- 파일 삭제, 쉘 명령 등
- 권한 변경 시 재승인

---

### 호환성 요구사항

#### NFR-7: 플랫폼 지원

**NFR-7.1 운영체제**
- macOS: 11 (Big Sur) 이상
- Windows: 10 (1809) 이상
- Linux: Ubuntu 20.04, Fedora 35, Arch (최신)

**NFR-7.2 아키텍처**
- x86_64 (Intel/AMD)
- arm64 (Apple Silicon, ARM Linux)
- 유니버설 바이너리 (macOS)

**NFR-7.3 화면 해상도**
- 최소 해상도: 1280x720
- 권장 해상도: 1920x1080
- HiDPI/Retina 디스플레이 지원

**NFR-7.4 접근성**
- 스크린 리더 지원 (ARIA)
- 키보드 네비게이션 100%
- 고대비 모드 지원

#### NFR-8: 브라우저 엔진

**NFR-8.1 Chromium 버전**
- Electron 28+ (Chromium 120+)
- 정기 보안 업데이트

**NFR-8.2 웹 표준**
- ES2022 문법 지원
- CSS Grid, Flexbox
- WebGL (Monaco Editor용)

#### NFR-9: 백엔드 호환성

**NFR-9.1 프로토콜 버전**
- app-server-protocol v2 완전 지원
- v1 하위 호환성 (optional)

**NFR-9.2 Rust 버전**
- Rust 2024 edition
- 기존 codex-rs 코드베이스와 100% 호환

---

### 품질 요구사항

#### NFR-10: 안정성

**NFR-10.1 크래시 방지**
- MTBF (Mean Time Between Failures): > 100시간
- 백엔드 크래시 시 자동 재시작
- UI 크래시 시 복구 메커니즘

**NFR-10.2 에러 핸들링**
- 모든 에러에 대한 사용자 친화적 메시지
- 에러 스택 트레이스 로깅
- 자동 버그 리포팅 (사용자 동의 시)

**NFR-10.3 데이터 무결성**
- 대화 데이터 손실 방지 (자동 저장)
- 트랜잭션 롤백 지원
- 백업/복원 기능

#### NFR-11: 유지보수성

**NFR-11.1 코드 품질**
- TypeScript strict mode
- ESLint/Prettier 규칙 준수
- 테스트 커버리지 > 70%

**NFR-11.2 문서화**
- 모든 public API JSDoc 주석
- 아키텍처 문서 최신 유지
- 개발자 가이드

**NFR-11.3 모니터링**
- 에러 추적 (Sentry 또는 유사)
- 성능 메트릭 수집
- 사용자 피드백 채널

#### NFR-12: 테스트

**NFR-12.1 단위 테스트**
- 모든 비즈니스 로직 함수 테스트
- Jest 사용
- 커버리지 > 80%

**NFR-12.2 통합 테스트**
- Backend Manager 통합
- IPC 통신 테스트
- 주요 사용자 플로우

**NFR-12.3 E2E 테스트**
- Playwright 사용
- 주요 시나리오 자동화:
  - 새 대화 → 메시지 전송 → 응답 수신
  - 도구 승인 플로우
  - 설정 변경

**NFR-12.4 성능 테스트**
- 로딩 시간 벤치마크
- 메모리 누수 검사
- 장시간 실행 안정성 테스트

---

## 사용자 인터페이스 요구사항

### UIR-1: 레이아웃

**UIR-1.1 전체 레이아웃**
```
┌─────────────────────────────────────────────────────┐
│  Title Bar (Custom or Native)                       │
├──────────┬──────────────────────────────────────────┤
│          │                                          │
│ Sidebar  │         Main Content Area                │
│ (250px)  │                                          │
│          │  ┌────────────────────────────────────┐  │
│ - Convs  │  │    Chat Messages                   │  │
│ - Files  │  │                                    │  │
│ - Tools  │  │                                    │  │
│          │  └────────────────────────────────────┘  │
│          │  ┌────────────────────────────────────┐  │
│          │  │    Input Area                      │  │
│          │  └────────────────────────────────────┘  │
├──────────┴──────────────────────────────────────────┤
│  Status Bar                                         │
└─────────────────────────────────────────────────────┘
```

**UIR-1.2 사이드바**
- 토글 가능 (숨김/표시)
- 리사이즈 가능 (최소 200px, 최대 500px)
- 탭 구조:
  - Conversations
  - Files
  - Tools History

**UIR-1.3 메인 영역**
- 상단: 대화 제목 + 모델 선택
- 중앙: 메시지 목록 (스크롤 가능)
- 하단: 입력 영역 (리사이즈 가능)

**UIR-1.4 상태바**
- 좌측: 백엔드 연결 상태
- 중앙: 작업 진행 상황
- 우측: 사용자 정보, 샌드박스 모드

### UIR-2: 시각 디자인

**UIR-2.1 테마**
- 다크 모드 (기본)
- 라이트 모드
- VS Code 테마 호환 (optional)

**UIR-2.2 타이포그래피**
- UI 폰트: Inter, San Francisco, Segoe UI (시스템)
- 코드 폰트: Fira Code, JetBrains Mono, Cascadia Code
- 크기: 12px (기본), 조정 가능 (10-18px)

**UIR-2.3 색상**
- Primary: #3B82F6 (Blue)
- Success: #10B981 (Green)
- Warning: #F59E0B (Orange)
- Danger: #EF4444 (Red)
- Background Dark: #1E1E1E
- Background Light: #FFFFFF

**UIR-2.4 간격**
- 패딩: 8px, 16px, 24px
- 마진: 8px, 16px, 24px
- 컴포넌트 간격: 16px

### UIR-3: 인터랙션

**UIR-3.1 애니메이션**
- 페이드 인/아웃: 200ms
- 슬라이드: 300ms
- 타이핑 효과: 스트리밍 속도
- 부드러운 스크롤

**UIR-3.2 피드백**
- 버튼 hover: 색상 변경
- 버튼 active: 눌림 효과
- 로딩: 스피너 또는 프로그레스 바
- 에러: 빨간 테두리 + 메시지

**UIR-3.3 키보드 단축키**
- `Cmd/Ctrl+N`: 새 대화
- `Cmd/Ctrl+K`: 명령 팔레트
- `Cmd/Ctrl+,`: 설정
- `Cmd/Ctrl+B`: 사이드바 토글
- `Cmd/Ctrl+Enter`: 메시지 전송
- `Esc`: 다이얼로그 닫기
- `A`: 승인 (승인 다이얼로그에서)
- `R`: 거부 (승인 다이얼로그에서)

### UIR-4: 컴포넌트

**UIR-4.1 메시지 컴포넌트**
- 사용자 메시지: 우측 정렬, 파란 배경
- AI 메시지: 좌측 정렬, 회색 배경
- 시스템 메시지: 중앙 정렬, 작은 폰트
- 타임스탬프: 상대 시간 (예: "2 minutes ago")

**UIR-4.2 승인 다이얼로그**
- 모달 오버레이
- 도구 정보 카드
- Diff 뷰어 (파일 변경 시)
- 액션 버튼 (Approve/Reject/Approve All)

**UIR-4.3 파일 트리**
- 폴더/파일 아이콘
- 들여쓰기로 계층 표시
- 확장/축소 애니메이션
- 선택된 파일 하이라이팅

**UIR-4.4 상태 인디케이터**
- 연결됨: 녹색 점
- 연결 끊김: 빨간 점
- 연결 중: 노란 점 (애니메이션)

---

## 비기능 요구사항

### NFR-13: 사용성

**NFR-13.1 학습 곡선**
- 처음 사용자가 첫 메시지 전송까지: < 2분
- TUI 사용자가 적응하는 시간: < 10분

**NFR-13.2 접근성**
- WCAG 2.1 Level AA 준수
- 스크린 리더 테스트 (NVDA, VoiceOver)
- 키보드만으로 모든 기능 접근 가능

**NFR-13.3 오류 메시지**
- 명확한 원인 설명
- 해결 방법 제시
- 기술 세부사항 (선택적 표시)

### NFR-14: 국제화 (I18N)

**NFR-14.1 다국어 지원 (Phase 2)**
- 영어 (기본)
- 한국어
- 일본어
- 중국어 (간체)
- 프랑스어, 독일어, 스페인어 (optional)

**NFR-14.2 날짜/시간 형식**
- 사용자 로케일 준수
- 타임존 지원

**NFR-14.3 RTL 언어 지원 (Phase 3)**
- 아랍어, 히브리어 (optional)

### NFR-15: 업데이트

**NFR-15.1 자동 업데이트**
- 백그라운드에서 업데이트 확인
- 사용자에게 알림 표시
- 원클릭 설치

**NFR-15.2 릴리스 채널**
- Stable (기본)
- Beta (선택적)
- Dev (개발자용)

**NFR-15.3 롤백**
- 문제 발생 시 이전 버전으로 복원
- 데이터 마이그레이션 롤백

---

## 제약사항

### 기술적 제약

**CONST-1: 백엔드 의존성**
- Rust 백엔드 필수 (재작성 불가)
- app-server-protocol 준수 필수

**CONST-2: Electron 버전**
- Electron 28 이상 (보안 패치)
- 연 1회 메이저 업그레이드

**CONST-3: 플랫폼 제한**
- 샌드박싱: 플랫폼별 구현 필요
- macOS 11+, Windows 10+, Linux 커널 5.13+ (Landlock)

**CONST-4: 리소스 제한**
- 메모리: 백엔드 + Electron < 600MB
- 디스크: 설치 < 150MB

### 비즈니스 제약

**CONST-5: 라이선스**
- 오픈소스 라이선스 준수 (Apache 2.0)
- 상용 라이브러리 사용 불가

**CONST-6: 개발 기간**
- MVP: 4-6주
- 전체: 14-20주

**CONST-7: 팀 규모**
- 개발자: 1-2명 (프론트엔드)
- 백엔드 지원: 기존 팀 활용

### 외부 의존성

**CONST-8: 외부 서비스**
- OpenAI API (또는 호환 프로바이더)
- GitHub (배포, 업데이트)
- 크래시 리포팅 서비스 (optional)

---

## 인수 기준

### AC-1: 기능 완성도

- [ ] 모든 P0 (필수) 기능 구현 완료
- [ ] 70% 이상의 P1 기능 구현
- [ ] 주요 사용자 플로우 E2E 테스트 통과

### AC-2: 성능

- [ ] 초기 로딩 < 3초
- [ ] 메시지 전송 → 첫 응답 < 1초
- [ ] 메모리 사용 < 600MB (백엔드 포함)
- [ ] CPU 유휴 상태 < 1%

### AC-3: 보안

- [ ] 모든 샌드박스 테스트 통과
- [ ] 보안 감사 완료 (내부 또는 외부)
- [ ] 자격증명 안전하게 저장 (OS Keychain)

### AC-4: 안정성

- [ ] 10시간 연속 실행 크래시 없음
- [ ] 100개 대화 × 100 메시지 처리 문제없음
- [ ] 백엔드 크래시 시 자동 복구

### AC-5: 사용성

- [ ] 5명의 베타 테스터 긍정적 피드백 (> 4/5)
- [ ] TUI 사용자가 10분 내 적응
- [ ] 접근성 테스트 통과 (스크린 리더)

### AC-6: 호환성

- [ ] macOS 11+, Windows 10+, Ubuntu 20.04+ 모두 정상 동작
- [ ] x86_64, arm64 모두 빌드 및 테스트 완료

### AC-7: 문서

- [ ] 아키텍처 문서 작성 완료
- [ ] API 문서 (JSDoc) 생성
- [ ] 사용자 가이드 작성
- [ ] 개발자 온보딩 가이드 작성

### AC-8: 배포

- [ ] 설치 프로그램 생성 (DMG, NSIS, AppImage)
- [ ] 코드 서명 완료
- [ ] 자동 업데이트 테스트 완료

---

## 우선순위 정리

### P0 (필수 - MVP)
- 대화 생성/목록/전환
- 메시지 송수신
- 마크다운 렌더링
- 도구 승인 UI
- 파일 변경 미리보기
- 작업 디렉토리 선택
- 모델 설정
- 백엔드 연결 관리

### P1 (중요 - Phase 2)
- 대화 삭제/아카이브
- 코드 복사 버튼
- 승인 모드 전환
- 파일 브라우저
- 파일 검색
- 샌드박스 설정
- 상태 표시
- 명령 팔레트
- 이미지 첨부

### P2 (유용 - Phase 3)
- 메시지 편집/삭제
- 파일 미리보기
- 외관 설정
- 키보드 단축키 커스터마이징
- 통합 코드 편집기
- 즐겨찾기/검색
- 템플릿 라이브러리

### P3 (향후)
- 대화 공유
- 멀티 윈도우
- 플러그인 시스템
- AI 기반 추천
- 통합 터미널

---

## 변경 이력

| 버전 | 날짜 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2025-01-XX | - | 초안 작성 |

---

## 참조 문서

- [Electron UI Architecture](./electron-ui-architecture.md)
- [Key Features](./key-features.md)
- [Getting Started](./getting-started.md)
- [App Server Protocol (codex-rs/app-server-protocol)](../codex-rs/app-server-protocol/)
