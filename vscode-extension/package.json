{
  "name": "codex-ui-vscode-extension",
  "version": "0.2.7",
  "displayName": "Codex UI",
  "publisher": "harukary7518",
  "description": "Use Codex CLI (app-server) inside VS Code: sessions, chat, tools, diffs.",
  "sponsor": {
    "url": "https://buymeacoffee.com/harukary7518"
  },
  "icon": "resources/icon.png",
  "license": "Apache-2.0",
  "repository": {
    "type": "git",
    "url": "https://github.com/harukary/codex-ui-vscode-extension.git"
  },
  "main": "./dist/extension.js",
  "engines": {
    "vscode": "^1.90.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onCommand:codez.startBackend",
    "onCommand:codez.newSession",
    "onCommand:codez.sendMessage",
    "onCommand:codez.openSession",
    "onCommand:codez.openSessionPanel",
    "onCommand:codez.clearRuntimeCache",
    "onCommand:codez.openLatestDiff",
    "onCommand:codez.selectSession",
    "onCommand:codez.renameSession",
    "onCommand:codez.sessionMenu",
    "onCommand:codez.hideSessionTab",
    "onCommand:codez.closeSession",
    "onCommand:codez.copySessionId",
    "onCommand:codez.respondApproval",
    "onCommand:codez.showStatus",
    "onCommand:codez.interruptTurn",
    "onCommand:codez.reloadSession",
    "onCommand:codez.debug.stressUi",
    "onCommand:codez.debug.stopStressUi",
    "onCommand:codez.showSkills",
    "onCommand:codez.showAgents",
    "onCommand:codez.resumeFromHistory",
    "onCommand:codez.migrateSessionsV1",
    "onCommand:codez.switchAccount",
    "onView:codez.chatView",
    "onView:codez.sessionsView"
  ],
  "contributes": {
    "commands": [
      {
        "command": "codez.startBackend",
        "title": "Codex UI: Start Backend(s)"
      },
      {
        "command": "codez.newSession",
        "title": "Codex UI: New Session"
      },
      {
        "command": "codez.sendMessage",
        "title": "Codex UI: Send Message"
      },
      {
        "command": "codez.openSession",
        "title": "Codex UI: Open Session"
      },
      {
        "command": "codez.openSessionPanel",
        "title": "Codex UI: Open Session (Editor Tab)"
      },
      {
        "command": "codez.clearRuntimeCache",
        "title": "Codex UI: Clear Runtime Cache (Workspace)"
      },
      {
        "command": "codez.openLatestDiff",
        "title": "Codex UI: Open Latest Diff"
      },
      {
        "command": "codez.selectSession",
        "title": "Codex UI: Select Session"
      },
      {
        "command": "codez.renameSession",
        "title": "Codex UI: Rename Session"
      },
      {
        "command": "codez.sessionMenu",
        "title": "Codex UI: Session Menu"
      },
      {
        "command": "codez.hideSessionTab",
        "title": "Codex UI: Hide Session Tab"
      },
      {
        "command": "codez.closeSession",
        "title": "Codex UI: Close Session (Hide from Sessions)"
      },
      {
        "command": "codez.copySessionId",
        "title": "Codex UI: Copy Session ID"
      },
      {
        "command": "codez.respondApproval",
        "title": "Codex UI: Respond Approval"
      },
      {
        "command": "codez.showStatus",
        "title": "Codex UI: Status"
      },
      {
        "command": "codez.interruptTurn",
        "title": "Codex UI: Interrupt Turn"
      },
      {
        "command": "codez.reloadSession",
        "title": "Codex UI: Reload Session (Config)"
      },
      {
        "command": "codez.debug.stressUi",
        "title": "Codex UI: Debug Stress (UI streaming)"
      },
      {
        "command": "codez.debug.stopStressUi",
        "title": "Codex UI: Debug Stop Stress (UI streaming)"
      },
      {
        "command": "codez.showSkills",
        "title": "Codex UI: Skills"
      },
      {
        "command": "codez.showAgents",
        "title": "Codex UI: Agents (codez)"
      },
      {
        "command": "codez.resumeFromHistory",
        "title": "Codex UI: Resume from History"
      },
      {
        "command": "codez.migrateSessionsV1",
        "title": "Codex UI: Migrate Sessions (v1 -> v2)"
      },
      {
        "command": "codez.switchAccount",
        "title": "Codex UI: Switch Account"
      }
    ],
    "keybindings": [],
    "menus": {
      "view/item/context": [
        {
          "command": "codez.closeSession",
          "when": "view == codez.sessionsView && viewItem == codez.session",
          "group": "navigation"
        }
      ]
    },
    "viewsContainers": {
      "activitybar": [
        {
          "id": "codez",
          "title": "Codex UI",
          "icon": "resources/codez.svg"
        }
      ]
    },
    "views": {
      "codez": [
        {
          "id": "codez.sessionsView",
          "name": "Sessions"
        },
        {
          "id": "codez.chatView",
          "name": "Chat",
          "type": "webview"
        }
      ]
    },
    "configuration": {
      "title": "Codex UI",
      "properties": {
        "codez.cli.commands.codex": {
          "type": "string",
          "default": "codex",
          "description": "CLI command for Codex."
        },
        "codez.cli.commands.codez": {
          "type": "string",
          "default": "codez",
          "description": "CLI command for codez."
        },
        "codez.cli.commands.upstream": {
          "type": "string",
          "default": "codex",
          "description": "DEPRECATED: use codez.cli.commands.codex"
        },
        "codez.cli.commands.mine": {
          "type": "string",
          "default": "codez",
          "description": "DEPRECATED: use codez.cli.commands.codez"
        },
        "codez.backend.args": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "app-server"
          ],
          "description": "Arguments passed to the backend command."
        },
        "codez.opencode.command": {
          "type": "string",
          "default": "opencode",
          "description": "CLI command for opencode (used when starting the opencode backend)."
        },
        "codez.opencode.args": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "serve"
          ],
          "description": "Arguments passed to the opencode command (used when starting the opencode backend). The extension will append --hostname/--port as needed."
        },
        "codez.debug.logRpcPayloads": {
          "type": "boolean",
          "default": false,
          "description": "Log full JSON-RPC payloads to the output channel (may include sensitive data)."
        },
        "codez.approvals.defaultDecision": {
          "type": "string",
          "enum": [
            "prompt",
            "decline",
            "cancel"
          ],
          "default": "prompt",
          "description": "Default decision for server-initiated approval requests."
        }
      }
    }
  },
  "scripts": {
    "compile": "node ./scripts/check-generated.js && node ./scripts/prepare-webview-vendors.js && tsc -p .",
    "watch": "tsc -p . -w",
    "format": "prettier --check .",
    "format:fix": "prettier --write .",
    "vsix:package": "pnpm run compile && mkdir -p vsix && npx --yes @vscode/vsce package --out vsix/codex-ui-vscode-extension-${npm_package_version}.vsix",
    "vsix:install": "pnpm run vsix:package && code --install-extension vsix/codex-ui-vscode-extension-${npm_package_version}.vsix --force",
    "regen:protocol": "node ./scripts/regen-protocol.js --codex-bin ../codex-rs/target/debug/codex"
  },
  "dependencies": {
    "@iarna/toml": "^2.2.5",
    "shell-quote": "^1.8.1"
  },
  "devDependencies": {
    "@types/node": "^20.19.18",
    "@types/shell-quote": "^1.7.5",
    "@types/vscode": "^1.90.0",
    "markdown-it": "^14.1.0",
    "prettier": "^3.6.2",
    "typescript": "^5.9.2"
  }
}
