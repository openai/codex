{
  "name": "codex-ui-vscode-extension",
  "version": "0.1.16",
  "displayName": "Codex UI",
  "publisher": "harukary7518",
  "description": "Use Codex CLI (app-server) inside VS Code: sessions, chat, tools, diffs.",
  "icon": "resources/icon.png",
  "license": "Apache-2.0",
  "repository": {
    "type": "git",
    "url": "https://github.com/harukary/codex-ui-vscode-extension.git"
  },
  "main": "./dist/extension.js",
  "engines": {
    "vscode": "^1.90.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onCommand:codexMine.startBackend",
    "onCommand:codexMine.newSession",
    "onCommand:codexMine.sendMessage",
    "onCommand:codexMine.openSession",
    "onCommand:codexMine.openSessionPanel",
    "onCommand:codexMine.clearRuntimeCache",
    "onCommand:codexMine.openLatestDiff",
    "onCommand:codexMine.selectSession",
    "onCommand:codexMine.renameSession",
    "onCommand:codexMine.sessionMenu",
    "onCommand:codexMine.hideSessionTab",
    "onCommand:codexMine.closeSession",
    "onCommand:codexMine.copySessionId",
    "onCommand:codexMine.respondApproval",
    "onCommand:codexMine.showStatus",
    "onCommand:codexMine.interruptTurn",
    "onCommand:codexMine.reloadSession",
    "onCommand:codexMine.debug.stressUi",
    "onCommand:codexMine.debug.stopStressUi",
    "onCommand:codexMine._dev.askUserQuestionDemo",
    "onCommand:codexMine.showSkills",
    "onCommand:codexMine.showAgents",
    "onCommand:codexMine.selectCliVariant",
    "onCommand:codexMine.resumeFromHistory",
    "onCommand:codexMine.switchAccount",
    "onView:codexMine.chatView",
    "onView:codexMine.sessionsView"
  ],
  "contributes": {
    "commands": [
      {
        "command": "codexMine.startBackend",
        "title": "Codex UI: Start Backend (app-server)"
      },
      {
        "command": "codexMine.newSession",
        "title": "Codex UI: New Session"
      },
      {
        "command": "codexMine.sendMessage",
        "title": "Codex UI: Send Message"
      },
      {
        "command": "codexMine.openSession",
        "title": "Codex UI: Open Session"
      },
      {
        "command": "codexMine.openSessionPanel",
        "title": "Codex UI: Open Session (Editor Tab)"
      },
      {
        "command": "codexMine.clearRuntimeCache",
        "title": "Codex UI: Clear Runtime Cache (Workspace)"
      },
      {
        "command": "codexMine.openLatestDiff",
        "title": "Codex UI: Open Latest Diff"
      },
      {
        "command": "codexMine.selectSession",
        "title": "Codex UI: Select Session"
      },
      {
        "command": "codexMine.renameSession",
        "title": "Codex UI: Rename Session"
      },
      {
        "command": "codexMine.sessionMenu",
        "title": "Codex UI: Session Menu"
      },
      {
        "command": "codexMine.hideSessionTab",
        "title": "Codex UI: Hide Session Tab"
      },
      {
        "command": "codexMine.closeSession",
        "title": "Codex UI: Close Session (Hide from Sessions)"
      },
      {
        "command": "codexMine.copySessionId",
        "title": "Codex UI: Copy Session ID"
      },
      {
        "command": "codexMine.respondApproval",
        "title": "Codex UI: Respond Approval"
      },
      {
        "command": "codexMine.showStatus",
        "title": "Codex UI: Status"
      },
      {
        "command": "codexMine.interruptTurn",
        "title": "Codex UI: Interrupt Turn"
      },
      {
        "command": "codexMine.reloadSession",
        "title": "Codex UI: Reload Session (Config)"
      },
      {
        "command": "codexMine.debug.stressUi",
        "title": "Codex UI: Debug Stress (UI streaming)"
      },
      {
        "command": "codexMine.debug.stopStressUi",
        "title": "Codex UI: Debug Stop Stress (UI streaming)"
      },
      {
        "command": "codexMine._dev.askUserQuestionDemo",
        "title": "Codex UI (Dev): AskUserQuestion Demo"
      },
      {
        "command": "codexMine.showSkills",
        "title": "Codex UI: Skills"
      },
      {
        "command": "codexMine.showAgents",
        "title": "Codex UI: Agents (codex-mine)"
      },
      {
        "command": "codexMine.selectCliVariant",
        "title": "Codex UI: Select CLI (codex / codex-mine)"
      },
      {
        "command": "codexMine.resumeFromHistory",
        "title": "Codex UI: Resume from History"
      },
      {
        "command": "codexMine.switchAccount",
        "title": "Codex UI: Switch Account"
      }
    ],
    "keybindings": [
      {
        "command": "codexMine._dev.askUserQuestionDemo",
        "key": "f8",
        "when": "true"
      }
    ],
    "menus": {
      "view/item/context": [
        {
          "command": "codexMine.closeSession",
          "when": "view == codexMine.sessionsView && viewItem == codexMine.session",
          "group": "navigation"
        }
      ]
    },
    "viewsContainers": {
      "activitybar": [
        {
          "id": "codexMine",
          "title": "Codex UI",
          "icon": "resources/codex-mine.svg"
        }
      ]
    },
    "views": {
      "codexMine": [
        {
          "id": "codexMine.sessionsView",
          "name": "Sessions"
        },
        {
          "id": "codexMine.chatView",
          "name": "Chat",
          "type": "webview"
        }
      ]
    },
    "configuration": {
      "title": "Codex UI",
      "properties": {
        "codexMine.cli.variant": {
          "type": "string",
          "enum": [
            "auto",
            "codex",
            "codex-mine"
          ],
          "default": "auto",
          "description": "Which Codex CLI to run. auto=use codexMine.backend.command; codex=use codexMine.cli.commands.codex; codex-mine=use codexMine.cli.commands.codexMine."
        },
        "codexMine.cli.commands.codex": {
          "type": "string",
          "default": "codex",
          "description": "CLI command for Codex."
        },
        "codexMine.cli.commands.codexMine": {
          "type": "string",
          "default": "codex-mine",
          "description": "CLI command for codex-mine."
        },
        "codexMine.cli.commands.upstream": {
          "type": "string",
          "default": "codex",
          "description": "DEPRECATED: use codexMine.cli.commands.codex"
        },
        "codexMine.cli.commands.mine": {
          "type": "string",
          "default": "codex-mine",
          "description": "DEPRECATED: use codexMine.cli.commands.codexMine"
        },
        "codexMine.backend.command": {
          "type": "string",
          "default": "codex",
          "description": "Backend CLI command to spawn (e.g. codex)."
        },
        "codexMine.backend.args": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [
            "app-server"
          ],
          "description": "Arguments passed to the backend command."
        },
        "codexMine.debug.logRpcPayloads": {
          "type": "boolean",
          "default": false,
          "description": "Log full JSON-RPC payloads to the output channel (may include sensitive data)."
        },
        "codexMine.approvals.defaultDecision": {
          "type": "string",
          "enum": [
            "prompt",
            "decline",
            "cancel"
          ],
          "default": "prompt",
          "description": "Default decision for server-initiated approval requests."
        }
      }
    }
  },
  "scripts": {
    "compile": "node ./scripts/check-generated.js && node ./scripts/prepare-webview-vendors.js && tsc -p .",
    "watch": "tsc -p . -w",
    "format": "prettier --check .",
    "format:fix": "prettier --write .",
    "vsix:package": "pnpm run compile && mkdir -p vsix && npx --yes @vscode/vsce package --out vsix/codex-ui-vscode-extension-${npm_package_version}.vsix",
    "vsix:install": "pnpm run vsix:package && code --install-extension vsix/codex-ui-vscode-extension-${npm_package_version}.vsix --force",
    "regen:protocol": "node ./scripts/regen-protocol.js"
  },
  "dependencies": {
    "@iarna/toml": "^2.2.5",
    "shell-quote": "^1.8.1"
  },
  "devDependencies": {
    "@types/node": "^20.19.18",
    "@types/shell-quote": "^1.7.5",
    "@types/vscode": "^1.90.0",
    "markdown-it": "^14.1.0",
    "prettier": "^3.6.2",
    "typescript": "^5.9.2"
  }
}
